(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{355:function(t,e,n){var a,i;a=[n(124),n(53),n(44),n(52),n(67),n(0),n(180),n(2),n(4),n(123),n(366),n(45),n(46),n(13),n(42)],void 0===(i=function(r,o,s,E,c,u,d,l,_,C,S){"use strict";function T(t){"@babel/helpers - typeof";return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=[n(124),n(53),n(44),n(52),n(67),n(0),n(180),n(2),n(4),n(123),n(366)],void 0===(i=function(){var t={SWC_CORE_READY_EVENT:"swc:core:ready"},e={SKYPE_RECENT_SELECTOR:".skype-recents",SWC_SEARCH_INPUT:".skype-recents .searchContactsInput",SWC_FOOTER_MESSAGE:".skype-recents .footer .message",CHAT_WRAPPER_PLACEHOLDER:".chat-wrapper",SKYPE_CHAT_SELECTOR:".skypeChat",SKYPE_CHAT_TOOLTIP_SELECTOR:".skypeChat .tooltip",SKYPE_CHAT_ICON_SELECTOR:"#skypeIcon",SWC_RECENT_CONTACTS_ITEMS:"#swc-recents-contacts .item",UHF_MORE_NAV_ITEM:"#uhfMore",UNREAD_COUNTER:"#unreadCounter",UNREAD_WRAPPER:"#unreadWrapper",APP_BANNER:"#appBanner",UHF_COOKIE_ALERT:"#uhfCookieAlert",UHF_EDGE_NOTIFICATION:"#epb",UHF_EDGE_NOTIFICATION_ID:"epb",LOGIN_MENU_WRAPPER:"nav .signInDropdownWrapper",LOGIN_MENU:"nav .signInDropdownWrapper [data-element-type='subMenu']"},n={ProviderId:"swc.chat",IsVirtual:!0,ParallelView:!0,CanCollapse:!0,Style:_.pluck(o,"swcChat","style")||"outlook",Locale:"en-US"},a={notStarted:"notStarted",inProgress:"inProgress",finished:"finished"},i=_.pluck(o,"swcChat","disable"),p=C.create({lazyInitStatus:a.notStarted,recentsInitStatus:a.notStarted}),f=function(t){swc.API.triggerEvent(t)},A=function(){var t=u(e.SKYPE_RECENT_SELECTOR),n=u(e.SKYPE_CHAT_SELECTOR);"visible"===t.attr("data-status")&&(t.attr("data-status","invisible"),n.attr("data-bi-scn","open"),f("recentsHidden"),t.attr("aria-hidden","true"))},O=function(t,n,a){if(t.hasClass("hover")&&(t.removeClass("hover"),n.attr("aria-expanded","false")),"visible"===a.attr("data-status"))a.attr("data-status","invisible"),a.attr("aria-hidden","true"),f("recentsHidden");else{var i=u(e.UHF_EDGE_NOTIFICATION).height(),r=u(e.APP_BANNER).height(),o=u(e.UHF_COOKIE_ALERT).height();a.css("margin-top",i+r+o),a.attr("data-status","visible"),a.attr("aria-hidden","false"),f("recentsShown")}u(e.SKYPE_CHAT_SELECTOR).attr("data-bi-scn",function(t){return"open"===t.attr("data-bi-scn")?"close":"open"}(u(e.SKYPE_CHAT_SELECTOR)))},R=function(t){function n(t){var n=u(e.LOGIN_MENU_WRAPPER),r=u(e.LOGIN_MENU);i||(p.get("recentsInitStatus")===a.notStarted&&(l.isNullOrUndefined(_.pluck(window,"swc","module"))||(p.update({recentsInitStatus:a.inProgress}),window.swc.module.create("recents",{},document.querySelector(e.SKYPE_RECENT_SELECTOR)),p.update({recentsInitStatus:a.finished}))),p.get("recentsInitStatus")===a.finished&&O(n,r,t))}!function(t){var n=document.getElementById(e.UHF_EDGE_NOTIFICATION_ID);n&&n.addEventListener("animationend",function(){var n=u(e.UHF_EDGE_NOTIFICATION).height();t.css("margin-top",n)})}(t),u(e.SKYPE_CHAT_SELECTOR).attr("href",null),u(e.SKYPE_CHAT_SELECTOR).on("click touchstart",function(e){i?location.href="https://web.skype.com":(e.stopImmediatePropagation(),n(t))}),u(e.SKYPE_CHAT_SELECTOR).on("keydown",function(a){a.keyCode===E.TAB&&(a.shiftKey?u(e.UHF_MORE_NAV_ITEM).length>0&&(a.preventDefault(),u(e.UHF_MORE_NAV_ITEM).focus()):u(e.SWC_SEARCH_INPUT).length>0&&"visible"===t.attr("data-status")&&(a.preventDefault(),u(e.SWC_SEARCH_INPUT).focus())),a.keyCode===E.ENTER&&(i?location.href="https://web.skype.com":(a.preventDefault(),n(t)))}),v(t)},v=function(t){window.addEventListener("keydown",function(n){n.stopPropagation(),n.keyCode===E.ESCAPE&&"visible"===t.attr("data-status")&&(t.attr("data-status","invisible"),u(e.SKYPE_CHAT_SELECTOR).attr("data-bi-scn","open")),n.keyCode===E.TAB&&u(e.SWC_RECENT_CONTACTS_ITEMS).length>0&&"visible"===t.attr("data-status")&&(u(e.SWC_RECENT_CONTACTS_ITEMS).attr("tabindex","0").attr("aria-label","message"),"undefined"===T(u(e.SWC_FOOTER_MESSAGE).attr("tabindex"))&&(u(e.SWC_FOOTER_MESSAGE).attr("tabindex","0").attr("aria-label","message"),function(t){u(e.SWC_FOOTER_MESSAGE).on("keydown",function(n){n.keyCode===E.TAB&&(t.attr("data-status","invisible"),u(e.SKYPE_CHAT_SELECTOR).attr("data-bi-scn","open"),u(e.SKYPE_CHAT_SELECTOR).focus())})}(t))),n.keyCode===E.TAB&&u(e.SWC_RECENT_CONTACTS_ITEMS).length>0&&"invisible"===t.attr("data-status")&&("0"===u(e.SWC_RECENT_CONTACTS_ITEMS).attr("tabindex")&&u(e.SWC_RECENT_CONTACTS_ITEMS).removeAttr("tabindex").removeAttr("aria-label"),"0"===u(e.SWC_FOOTER_MESSAGE).attr("tabindex")&&u(e.SWC_FOOTER_MESSAGE).removeAttr("tabindex").removeAttr("aria-label"))})};var b=function(){return window.swc.API.registerEvent("unreadConversationsUpdate",function(t){var n=document.querySelector(e.SKYPE_CHAT_SELECTOR),a=document.querySelector(e.SKYPE_CHAT_TOOLTIP_SELECTOR);n.ariaLabel=n.ariaLabel.replace("${UNREAD_COUNT}",t||0),a.innerHTML=a.innerHTML.replace("${UNREAD_COUNT}",t||0),document.querySelector(e.UNREAD_COUNTER).innerText=t,document.querySelector(e.UNREAD_WRAPPER).style.display=t>0?"block":"none"}),window.swc.module.create("chat",n,document.querySelector(e.CHAT_WRAPPER_PLACEHOLDER)),window.swc.API.registerEvent("proxy:keyboard:sendOnEscape",function(t){A(),u(e.SKYPE_CHAT_SELECTOR).focus()}),Promise.resolve()};var y=function(n){if(n){var i=u(e.SKYPE_RECENT_SELECTOR);!function(t){c.on(c.RESIZE,function(){c.isMobile()&&"visible"===t.attr("data-status")&&!d.isV2()?(t.attr("data-status","invisible"),u(e.SKYPE_CHAT_SELECTOR).attr("data-bi-scn","open")):c.isMobileUHF()&&"visible"===t.attr("data-status")&&d.isV2()&&(t.attr("data-status","invisible"),u(e.SKYPE_CHAT_SELECTOR).attr("data-bi-scn","open"))})}(i),function(t){t.on("keydown",function(n){n.keyCode===E.TAB&&n.target===this&&n.shiftKey&&(n.preventDefault(),u(e.SKYPE_CHAT_SELECTOR).focus(),t.attr("data-status","invisible"),u(e.SKYPE_CHAT_SELECTOR).attr("data-bi-scn","open"))})}(i),R(i),u("html").on("click touchstart",function(t){var e,n,a=t.target,i=document.getElementById("main-recentlist"),r=document.getElementById("swc-recents-chats");i&&a&&(e=i.contains(a)),r&&a&&(n=r.contains(a)),e?n&&A():A()});var o=function(t){return function(t){return null===window.swc||void 0===window.swc?Promise.reject("SWC Chat is not loaded properly"):window.swc.init(null,{tokenProvider:t,toLoadUnreadConversationsCount:!0}).then(b)}(function(){return Promise.resolve(t)}).catch(function(){return Promise.reject()})},s=function(t){c.isMobile()&&!d.isV2()||c.isMobileUHF()&&d.isV2()?c.on(c.RESIZE,function(){p.get("lazyInitStatus")===a.inProgress||p.get("lazyInitStatus")===a.finished||c.isMobile()||c.isMobileUHF()||function(t){p.update({lazyInitStatus:a.inProgress}),o(t).then(function(){p.update({lazyInitStatus:a.finished})})}(t)}):o(t)};r.on(t.SWC_CORE_READY_EVENT,function(){s(n)})}};return _.pluck(o,"swcChat","chat")&&function(){var t=_.pluck(o,"swcChat","sdkUrl"),e=_.pluck(o,"swcChat","environment");s.on(s.EVENTS.READY,function(n){var a=n.skypetoken;t&&S.loadScriptTags([{src:t,data:{"data-manual-boot":!0,"data-environment":e}}],function(){y(a)})})}(),{closeRecentChats:A,CONSTS:t}}.apply(e,a))||(t.exports=i)}.apply(e,a))||(t.exports=i)},366:function(t,e,n){var a,i;a=[n(1),n(12),n(43)],void 0===(i=function(){"use strict";a=[n(368)],void 0===(i=function(t){var e=t.sanitizeUrl;function n(t,e){return Object.keys(e).map(function(n){t.setAttribute(n,e[n])}),t}return{loadScriptTags:function(t,a){t.map(function(t){var a=document.createElement("script");a.className="apolloLoader",a.src=e(t.src),a.async=!0,n(a,t.data),document.head.appendChild(a)}),a&&"function"==typeof a&&a()},setAttr:n}}.apply(e,a))||(t.exports=i)}.apply(e,a))||(t.exports=i)},368:function(t,e,n){var a,i;a=[n(33),n(42)],void 0===(i=function(){"use strict";void 0===(i=function(){var t=/^(%20|\s)*(javascript|data)/im,e=/[^\x20-\x7E]/gim,n=/^([^:]+):/gm,a=[".","/"];return{sanitizeUrl:function(i){var r,o,s=i.replace(e,"");return function(t){return a.indexOf(t[0])>-1}(s)?s:(o=s.match(n))?(r=o[0],t.test(r)?"about:blank":s):"about:blank"}}}.call(e,n,e,t))||(t.exports=i)}.apply(e,a))||(t.exports=i)}}]);